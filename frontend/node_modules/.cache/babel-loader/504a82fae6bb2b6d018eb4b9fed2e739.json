{"ast":null,"code":"var _jsxFileName = \"/home/giovanne/viagemapp/frontend/src/pages/LoginAgencia/index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom'; //npm install react-router-dom \n\nimport { FiArrowRight } from 'react-icons/fi'; //npm install react-icons\n\nimport './styles.css';\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\nexport default function LoginAgencia() {\n  //Cria os estados a serem armazenados\n  const [nomeUsuario, setNomeUsuario] = useState('');\n  const [senha, setSenha] = useState('');\n  const history = useHistory();\n  const usuario = {\n    nomeUsuario,\n    senha\n  };\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    try {\n      //Manda a requisição\n      const response = await api.post('loginAgencia', usuario); //Armazena o id e o nome no localStorage do navegador\n\n      localStorage.setItem('idUsuario', response.data.id);\n      localStorage.setItem('nomeUsuario', response.data.nome); //Redireciona para a página\n\n      history.push('perfilAgencia');\n    } catch (err) {\n      //BADREQUEST\n      if (err.response.status === 400) {\n        alert('Preencha com todos os dados'); //NOTFOUND\n      } else if (err.response.status === 404) {\n        alert(err.response.data); //FORBIDDEN\n      } else if (err.response.status === 401) {\n        alert(err.response.data);\n      } else {\n        alert('Falha ao logar, tente novamente.');\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-agencia-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoImg,\n    alt: \"Logo ViagemApp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Efetue o login\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Nome de usu\\xE1rio\",\n    value: nomeUsuario,\n    onChange: e => setNomeUsuario(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Senha\",\n    type: \"password\",\n    value: senha,\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Entrar como ag\\xEAncia\")), /*#__PURE__*/React.createElement(Link, {\n    className: \"back-link\",\n    to: \"/cadastroAgencia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FiArrowRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), \" N\\xE3o tenho cadastro\"));\n}","map":{"version":3,"sources":["/home/giovanne/viagemapp/frontend/src/pages/LoginAgencia/index.js"],"names":["React","useState","Link","useHistory","FiArrowRight","logoImg","api","LoginAgencia","nomeUsuario","setNomeUsuario","senha","setSenha","history","usuario","handleLogin","e","preventDefault","response","post","localStorage","setItem","data","id","nome","push","err","status","alert","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';    //npm install react-router-dom \nimport { FiArrowRight } from 'react-icons/fi'           //npm install react-icons\n\nimport './styles.css';\n\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\n\nexport default function LoginAgencia(){\n    //Cria os estados a serem armazenados\n    const [nomeUsuario, setNomeUsuario] = useState('');\n    const [senha, setSenha] = useState(''); \n\n    const history = useHistory();\n\n    const usuario = {\n        nomeUsuario,\n        senha\n    } \n\n    async function handleLogin(e){\n        e.preventDefault();\n\n        try{\n            //Manda a requisição\n            const response = await api.post('loginAgencia', usuario);\n            //Armazena o id e o nome no localStorage do navegador\n            localStorage.setItem('idUsuario', response.data.id);\n            localStorage.setItem('nomeUsuario', response.data.nome);\n            //Redireciona para a página\n            history.push('perfilAgencia');\n\n        }catch(err){\n            //BADREQUEST\n            if(err.response.status === 400){\n                alert('Preencha com todos os dados');\n            //NOTFOUND\n            }else if(err.response.status === 404){\n                alert(err.response.data);\n            //FORBIDDEN\n            }else if(err.response.status === 401){\n                alert(err.response.data);\n            }else{\n                alert('Falha ao logar, tente novamente.');\n            }\n        }\n    }\n\n    return (\n        <div className='login-agencia-container'>\n            <img src={logoImg} alt='Logo ViagemApp' />\n\n            {/*Executa a função toda vez que submeter o formulário */}\n            <form onSubmit={handleLogin}>\n                <h1>Efetue o login</h1>\n                <input \n                    placeholder='Nome de usuário' \n                    value={nomeUsuario}\n                    onChange={ e => setNomeUsuario(e.target.value)}\n                >\n                </input>\n                \n                <input \n                    placeholder='Senha'\n                    type='password'\n                    value={senha}    \n                    onChange={e => setSenha(e.target.value)}\n                >\n                </input>\n                \n                <button className='button' type='submit'>\n                    Entrar como agência\n                </button>\n            </form>\n            <Link className = \"back-link\" to=\"/cadastroAgencia\">\n                <FiArrowRight/> Não tenho cadastro\n            </Link>   \n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}