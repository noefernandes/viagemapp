{"ast":null,"code":"var _jsxFileName = \"/home/giovanne/viagemapp/frontend/src/pages/CadastroViagem/index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom'; //npm install react-router-dom\n\nimport { FiPower, FiTrash2, FiArrowLeft } from 'react-icons/fi'; //npm install react-icons\n\nimport './styles.css';\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\nimport PerfilAgencia from '../PerfilAgencia'; //install react-currency-format --save\n\nconst CurrencyFormat = require('react-currency-format');\n\nexport default function CadastroViagem() {\n  const [localPartida, setLocalPartida] = useState('');\n  const [localChegada, setLocalChegada] = useState('');\n  const [horarioPartida, sethorarioPartida] = useState('');\n  const [horarioChegada, setHorarioChegada] = useState('');\n  const [data, setData] = useState('');\n  const [preco, setPreco] = useState();\n  const [capacidade, setCapacidade] = useState();\n  const history = useHistory();\n\n  async function handleCadastroViagem(e) {\n    e.preventDefault();\n    const viagem = {\n      localPartida,\n      localChegada,\n      data,\n      horarioPartida,\n      horarioChegada,\n      preco,\n      capacidade\n    };\n    const idUsuario = localStorage.getItem('idUsuario');\n\n    try {\n      const response = await api.post(`/viagens/${idUsuario}`, viagem, idUsuario);\n      history.push('PerfilAgencia');\n    } catch (err) {\n      alert(err);\n    }\n  } //Função responsáel por limpar o localStorage ao deslogar.\n\n\n  function handleLogout() {\n    //Limpa o localStorage\n    localStorage.clear(); //Redireciona a home\n\n    history.push('/loginAgencia');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-cadastro-viagem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoImg,\n    alt: \"Logo ViagemApp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"back-link\",\n    to: \"perfilAgencia\",\n    style: {\n      marginLeft: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }), \" Voltar ao perfil\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    type: \"button\",\n    className: \"power\",\n    style: {\n      borderStyle: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiPower, {\n    size: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-cadastro-viagem\",\n    onSubmit: handleCadastroViagem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Cadastre uma viagem\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"local\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Local de partida\",\n    value: localPartida,\n    onChange: e => setLocalPartida(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Local de chegada\",\n    value: localChegada,\n    onChange: e => setLocalChegada(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyFormat, {\n    format: \"##/##/####\",\n    placeholder: \"Data (DD/MM/AAAA)\",\n    mask: ['D', 'D', 'M', 'M', 'A', 'A', 'A', 'A'],\n    value: data,\n    onChange: e => setData(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyFormat, {\n    format: \"##:##\",\n    placeholder: \"Hor\\xE1rio de partida (HH/MM)\",\n    mask: ['H', 'H', 'M', 'M'],\n    value: horarioPartida,\n    onChange: e => sethorarioPartida(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(CurrencyFormat, {\n    format: \"##:##\",\n    placeholder: \"Hor\\xE1rio de chegada (HH/MM)\",\n    mask: ['H', 'H', 'M', 'M'],\n    value: horarioChegada,\n    onChange: e => setHorarioChegada(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyFormat, {\n    placeholder: \"Pre\\xE7o\",\n    value: preco,\n    onChange: e => setPreco(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Capacidade\",\n    value: capacidade,\n    onChange: e => setCapacidade(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"Criar viagem\")));\n}","map":{"version":3,"sources":["/home/giovanne/viagemapp/frontend/src/pages/CadastroViagem/index.js"],"names":["React","useState","Link","useHistory","FiPower","FiTrash2","FiArrowLeft","logoImg","api","PerfilAgencia","CurrencyFormat","require","CadastroViagem","localPartida","setLocalPartida","localChegada","setLocalChegada","horarioPartida","sethorarioPartida","horarioChegada","setHorarioChegada","data","setData","preco","setPreco","capacidade","setCapacidade","history","handleCadastroViagem","e","preventDefault","viagem","idUsuario","localStorage","getItem","response","post","push","err","alert","handleLogout","clear","marginLeft","borderStyle","marginBottom","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC,C,CAAwD;;AACxD,SAASC,OAAT,EAAkBC,QAAlB,EAA4BC,WAA5B,QAA+C,gBAA/C,C,CAAqE;;AACrE,OAAO,cAAP;AAEA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,aAAP,MAA0B,kBAA1B,C,CAEA;;AACA,MAAMC,cAAc,GAAGC,OAAO,CAAC,uBAAD,CAA9B;;AAEA,eAAe,SAASC,cAAT,GAAyB;AAEpC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACgB,cAAD,EAAiBC,iBAAjB,IAAsCjB,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACkB,cAAD,EAAiBC,iBAAjB,IAAqCnB,QAAQ,CAAC,EAAD,CAAnD;AACA,QAAM,CAACoB,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,EAAlC;AACA,QAAM,CAACwB,UAAD,EAAaC,aAAb,IAA8BzB,QAAQ,EAA5C;AAEA,QAAM0B,OAAO,GAAGxB,UAAU,EAA1B;;AAEA,iBAAeyB,oBAAf,CAAoCC,CAApC,EAAsC;AAClCA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,MAAM,GAAG;AACXlB,MAAAA,YADW;AAEXE,MAAAA,YAFW;AAGXM,MAAAA,IAHW;AAIXJ,MAAAA,cAJW;AAKXE,MAAAA,cALW;AAMXI,MAAAA,KANW;AAOXE,MAAAA;AAPW,KAAf;AAUA,UAAMO,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;;AAGA,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAM3B,GAAG,CAAC4B,IAAJ,CAAU,YAAWJ,SAAU,EAA/B,EAAkCD,MAAlC,EAA0CC,SAA1C,CAAvB;AACAL,MAAAA,OAAO,CAACU,IAAR,CAAa,eAAb;AAEH,KAJD,CAIC,OAAMC,GAAN,EAAU;AACPC,MAAAA,KAAK,CAACD,GAAD,CAAL;AACH;AACJ,GAnCmC,CAqCpC;;;AACA,WAASE,YAAT,GAAuB;AACnB;AACAP,IAAAA,YAAY,CAACQ,KAAb,GAFmB,CAGnB;;AACAd,IAAAA,OAAO,CAACU,IAAR,CAAa,eAAb;AACH;;AAED,sBAEI;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAE9B,OAAV;AAAmB,IAAA,GAAG,EAAC,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,WAAhB;AAA4B,IAAA,EAAE,EAAC,eAA/B;AAA+C,IAAA,KAAK,EAAE;AAACmC,MAAAA,UAAU,EAAE;AAAb,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,sBAFJ,CADJ,eAOI;AAAQ,IAAA,OAAO,EAAEF,YAAjB;AAA+B,IAAA,IAAI,EAAC,QAApC;AAA6C,IAAA,SAAS,EAAC,OAAvD;AAA+D,IAAA,KAAK,EAAE;AAAEG,MAAAA,WAAW,EAAC;AAAd,KAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,CADJ,eAaI;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAuC,IAAA,QAAQ,EAAEf,oBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAE;AAACgB,MAAAA,YAAY,EAAE;AAAf,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAEI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,kBAFhB;AAGI,IAAA,KAAK,EAAE/B,YAHX;AAII,IAAA,QAAQ,EAAEgB,CAAC,IAAIf,eAAe,CAACe,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,kBAFhB;AAGI,IAAA,KAAK,EAAE/B,YAHX;AAII,IAAA,QAAQ,EAAEc,CAAC,IAAIb,eAAe,CAACa,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CAFJ,eAgBI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AACI,IAAA,MAAM,EAAC,YADX;AAEI,IAAA,WAAW,EAAC,mBAFhB;AAGI,IAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,CAHV;AAII,IAAA,KAAK,EAAEzB,IAJX;AAKI,IAAA,QAAQ,EAAEQ,CAAC,IAAIP,OAAO,CAACO,CAAC,CAACgB,MAAF,CAASC,KAAV,CAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAhBJ,eAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AACI,IAAA,MAAM,EAAC,OADX;AAEI,IAAA,WAAW,EAAC,+BAFhB;AAGI,IAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAHV;AAII,IAAA,KAAK,EAAE7B,cAJX;AAKI,IAAA,QAAQ,EAAEY,CAAC,IAAIX,iBAAiB,CAACW,CAAC,CAACgB,MAAF,CAASC,KAAV,CALpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eASI,oBAAC,cAAD;AACI,IAAA,MAAM,EAAC,OADX;AAEI,IAAA,WAAW,EAAC,+BAFhB;AAGI,IAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAHV;AAII,IAAA,KAAK,EAAE3B,cAJX;AAKI,IAAA,QAAQ,EAAEU,CAAC,IAAIT,iBAAiB,CAACS,CAAC,CAACgB,MAAF,CAASC,KAAV,CALpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CAzBJ,eA0CI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AACI,IAAA,WAAW,EAAC,UADhB;AAEI,IAAA,KAAK,EAAEvB,KAFX;AAGI,IAAA,QAAQ,EAAEM,CAAC,IAAIL,QAAQ,CAACK,CAAC,CAACgB,MAAF,CAASC,KAAV,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAMI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,YAFhB;AAGI,IAAA,KAAK,EAAErB,UAHX;AAII,IAAA,QAAQ,EAAEI,CAAC,IAAIH,aAAa,CAACG,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CA1CJ,eAwDI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxDJ,CAbJ,CAFJ;AA2EH","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';    //npm install react-router-dom\nimport { FiPower, FiTrash2, FiArrowLeft } from 'react-icons/fi'      //npm install react-icons\nimport './styles.css';\n\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\nimport PerfilAgencia from '../PerfilAgencia';\n\n//install react-currency-format --save\nconst CurrencyFormat = require('react-currency-format');\n\nexport default function CadastroViagem(){\n\n    const [localPartida, setLocalPartida] = useState('');\n    const [localChegada, setLocalChegada] = useState('');\n    const [horarioPartida, sethorarioPartida] = useState('');\n    const [horarioChegada, setHorarioChegada]= useState('');\n    const [data, setData] = useState('');\n    const [preco, setPreco] = useState();\n    const [capacidade, setCapacidade] = useState();\n    \n    const history = useHistory();\n\n    async function handleCadastroViagem(e){\n        e.preventDefault();\n        \n        const viagem = {\n            localPartida,\n            localChegada,\n            data,\n            horarioPartida,\n            horarioChegada,\n            preco,\n            capacidade\n        }\n\n        const idUsuario = localStorage.getItem('idUsuario');\n\n\n        try{\n            const response = await api.post(`/viagens/${idUsuario}`, viagem, idUsuario);\n            history.push('PerfilAgencia'); \n\n        }catch(err){\n            alert(err);\n        }\n    }\n\n    //Função responsáel por limpar o localStorage ao deslogar.\n    function handleLogout(){\n        //Limpa o localStorage\n        localStorage.clear();\n        //Redireciona a home\n        history.push('/loginAgencia');\n    }\n    \n    return (\n\n        <div className='container-cadastro-viagem'>\n            <header>\n                <div>\n                    <img src={logoImg} alt='Logo ViagemApp'/>\n                    <Link className='back-link' to='perfilAgencia' style={{marginLeft: 40}}>\n                        <FiArrowLeft/> Voltar ao perfil\n                    </Link>\n                </div>\n                <button onClick={handleLogout} type='button' className='power' style={{ borderStyle:'none' }}>\n                    <FiPower size={50} />\n                </button>\n            </header>\n            \n            <form className='form-cadastro-viagem' onSubmit={handleCadastroViagem} >\n                <h1 style={{marginBottom: 30}}>Cadastre uma viagem</h1>\n                <div className='local'>\n                    <input \n                        type='text' \n                        placeholder='Local de partida' \n                        value={localPartida}\n                        onChange={e => setLocalPartida(e.target.value)}\n                    />\n                    <input\n                        type='text' \n                        placeholder='Local de chegada' \n                        value={localChegada}\n                        onChange={e => setLocalChegada(e.target.value)}\n                    />\n                </div>\n                <div className='data'>\n                    <CurrencyFormat \n                        format=\"##/##/####\" \n                        placeholder=\"Data (DD/MM/AAAA)\" \n                        mask={['D', 'D', 'M', 'M', 'A', 'A', 'A', 'A']}\n                        value={data}\n                        onChange={e => setData(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <CurrencyFormat\n                        format=\"##:##\" \n                        placeholder=\"Horário de partida (HH/MM)\" \n                        mask={['H', 'H', 'M', 'M']}\n                        value={horarioPartida}\n                        onChange={e => sethorarioPartida(e.target.value)}\n                    />\n                    \n                    <CurrencyFormat \n                        format=\"##:##\" \n                        placeholder=\"Horário de chegada (HH/MM)\" \n                        mask={['H', 'H', 'M', 'M']}\n                        value={horarioChegada}\n                        onChange={e => setHorarioChegada(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <CurrencyFormat \n                        placeholder='Preço' \n                        value={preco}\n                        onChange={e => setPreco(e.target.value)}\n                    />\n                    <input \n                        type='text'\n                        placeholder='Capacidade' \n                        value={capacidade}\n                        onChange={e => setCapacidade(e.target.value)}\n                    />\n                </div>\n\n                <button type='submit'>Criar viagem</button>\n            </form>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}