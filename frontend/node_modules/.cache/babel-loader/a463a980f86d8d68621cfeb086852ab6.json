{"ast":null,"code":"var _jsxFileName = \"/home/giovanne/viagemapp/frontend/src/pages/CadastroAgencia/index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom'; //npm install react-router-dom\n\nimport { FiArrowLeft } from 'react-icons/fi'; //npm install react-icons\n\nimport './styles.css';\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\nexport default function CadastroAgencia() {\n  //Cria os estados a serem armazenados\n  const [nome, setNome] = useState('');\n  const [cnpj, setCnpj] = useState('');\n  const [email, setEmail] = useState('');\n  const [nomeUsuario, setNomeUsuario] = useState('');\n  const [senha, setSenha] = useState('');\n  const history = useHistory();\n\n  async function handleCadastro(e) {\n    e.preventDefault();\n    const data = {\n      nome,\n      cnpj,\n      email,\n      nomeUsuario,\n      senha\n    };\n\n    try {\n      //Manda a requisição\n      const response = await api.post('cadastroAgencia', data);\n\n      if (response.status === 200) {\n        alert('Usuario cadastrado com sucesso!');\n      } //Redireciona para a página\n\n\n      history.push('loginAgencia');\n    } catch (err) {\n      //Equivale ao BADREQUEST\n      if (err.response.status === 400) {\n        alert('Preencha com todos os dados'); //Equivale ao FORBIDDEN\n      } else if (err.response.status === 403) {\n        alert(err.response.data);\n      } else {\n        alert('Falha ao cadastrar, tente novamente.');\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cadastro-agencia-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoImg,\n    width: 200,\n    alt: \"ViagemApp logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"back-link\",\n    style: {\n      marginLeft: 120\n    },\n    to: \"/loginAgencia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }), \"J\\xE1 tenho login\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleCadastro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"Fa\\xE7a seu cadastro\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Nome da ag\\xEAncia\",\n    value: nome,\n    onChange: e => setNome(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"CNPJ\",\n    value: cnpj,\n    onChange: e => setCnpj(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"E-mail\",\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-autenticacao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Nome de usu\\xE1rio\",\n    value: nomeUsuario,\n    onChange: e => setNomeUsuario(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Senha\",\n    value: senha,\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"Cadastrar\"))));\n}","map":{"version":3,"sources":["/home/giovanne/viagemapp/frontend/src/pages/CadastroAgencia/index.js"],"names":["React","useState","Link","useHistory","FiArrowLeft","logoImg","api","CadastroAgencia","nome","setNome","cnpj","setCnpj","email","setEmail","nomeUsuario","setNomeUsuario","senha","setSenha","history","handleCadastro","e","preventDefault","data","response","post","status","alert","push","err","marginLeft","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';    //npm install react-router-dom\nimport { FiArrowLeft } from 'react-icons/fi';           //npm install react-icons\nimport './styles.css';\n\nimport logoImg from '../../assets/logo.png';\nimport api from '../../services/api';\n\nexport default function CadastroAgencia(){\n    //Cria os estados a serem armazenados\n    const [nome, setNome] = useState('');\n    const [cnpj, setCnpj] = useState('');\n    const [email, setEmail] = useState('');\n    const [nomeUsuario, setNomeUsuario] = useState('');\n    const [senha, setSenha] = useState('');\n    \n    const history = useHistory();\n\n    async function handleCadastro(e){\n        e.preventDefault();\n        \n        const data = {\n            nome,\n            cnpj,\n            email,\n            nomeUsuario,\n            senha\n        }\n\n        try{\n            //Manda a requisição\n            const response = await api.post('cadastroAgencia', data);\n\n            if(response.status === 200){\n                alert('Usuario cadastrado com sucesso!');\n            }\n            //Redireciona para a página\n            history.push('loginAgencia');\n        }catch (err){\n            //Equivale ao BADREQUEST\n            if(err.response.status === 400){\n                alert('Preencha com todos os dados');\n            //Equivale ao FORBIDDEN\n            }else if(err.response.status === 403){\n                alert(err.response.data);\n            }else{\n                alert('Falha ao cadastrar, tente novamente.');\n            }\n        }\n    }\n\n    return (\n        <div className=\"cadastro-agencia-container\">\n            <section>\n                <img src={logoImg} width={200} alt=\"ViagemApp logo\"/>\n                <Link className=\"back-link\" style={{ marginLeft: 120 }} to=\"/loginAgencia\">\n                    <FiArrowLeft/>\n                    Já tenho login\n                </Link>\n            </section>\n\n             {/*Executa a função toda vez que submeter o formulário */}\n            <section className='form'>\n                <form onSubmit={handleCadastro}>\n                    <h1>Faça seu cadastro</h1>\n\n                    <input \n                        placeholder='Nome da agência'\n                        value={nome}\n                        onChange = {e => setNome(e.target.value)}\n                    />\n                    <input \n                        placeholder='CNPJ'\n                        value={cnpj}\n                        onChange = {e => setCnpj(e.target.value)}\n                    />\n                    <input \n                        placeholder='E-mail'\n                        type='email'\n                        value={email}\n                        onChange = {e => setEmail(e.target.value)}\n                    />\n                    <div className='container-autenticacao'>\n                        <input \n                            placeholder='Nome de usuário' \n                            value={nomeUsuario}\n                            onChange = {e => setNomeUsuario(e.target.value)}\n                        />\n                        \n                        <input \n                            type='password' \n                            placeholder='Senha' \n                            value={senha}\n                            onChange = {e => setSenha(e.target.value)}\n                        />\n                    </div>\n                    <button type='submit'>Cadastrar</button>\n\n                </form>\n            </section>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}